{"ast":null,"code":"import { ITEM_FINALIZE_STATES } from \"../consts\";\nconst finalizeItem = (queue, id, delItem = false) => {\n  queue.updateState(state => {\n    const {\n      batchId\n    } = state.items[id] || {\n      batchId: null\n    };\n    if (delItem) {\n      delete state.items[id];\n    }\n    const index = batchId ? state.itemQueue[batchId].indexOf(id) : -1;\n    if (~index && batchId) {\n      state.itemQueue[batchId].splice(index, 1);\n    }\n    const activeIndex = state.activeIds.indexOf(id);\n    if (~activeIndex) {\n      state.activeIds.splice(activeIndex, 1);\n    }\n  });\n};\nconst getIsItemExists = (queue, itemId) => !!queue.getState().items[itemId];\nconst getIsItemFinalized = item => ITEM_FINALIZE_STATES.includes(item.state);\nexport { finalizeItem, getIsItemExists, getIsItemFinalized };","map":{"version":3,"names":["ITEM_FINALIZE_STATES","finalizeItem","queue","id","delItem","updateState","state","batchId","items","index","itemQueue","indexOf","splice","activeIndex","activeIds","getIsItemExists","itemId","getState","getIsItemFinalized","item","includes"],"sources":["C:/Users/y2006/OneDrive/바탕 화면/poba/poba/node_modules/@rpldy/uploader/lib/esm/queue/itemHelpers.js"],"sourcesContent":["import { ITEM_FINALIZE_STATES } from \"../consts\";\nconst finalizeItem = (queue, id, delItem = false) => {\n  queue.updateState(state => {\n    const {\n      batchId\n    } = state.items[id] || {\n      batchId: null\n    };\n    if (delItem) {\n      delete state.items[id];\n    }\n    const index = batchId ? state.itemQueue[batchId].indexOf(id) : -1;\n    if (~index && batchId) {\n      state.itemQueue[batchId].splice(index, 1);\n    }\n    const activeIndex = state.activeIds.indexOf(id);\n    if (~activeIndex) {\n      state.activeIds.splice(activeIndex, 1);\n    }\n  });\n};\nconst getIsItemExists = (queue, itemId) => !!queue.getState().items[itemId];\nconst getIsItemFinalized = item => ITEM_FINALIZE_STATES.includes(item.state);\nexport { finalizeItem, getIsItemExists, getIsItemFinalized };"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,WAAW;AAChD,MAAMC,YAAY,GAAGA,CAACC,KAAK,EAAEC,EAAE,EAAEC,OAAO,GAAG,KAAK,KAAK;EACnDF,KAAK,CAACG,WAAW,CAACC,KAAK,IAAI;IACzB,MAAM;MACJC;IACF,CAAC,GAAGD,KAAK,CAACE,KAAK,CAACL,EAAE,CAAC,IAAI;MACrBI,OAAO,EAAE;IACX,CAAC;IACD,IAAIH,OAAO,EAAE;MACX,OAAOE,KAAK,CAACE,KAAK,CAACL,EAAE,CAAC;IACxB;IACA,MAAMM,KAAK,GAAGF,OAAO,GAAGD,KAAK,CAACI,SAAS,CAACH,OAAO,CAAC,CAACI,OAAO,CAACR,EAAE,CAAC,GAAG,CAAC,CAAC;IACjE,IAAI,CAACM,KAAK,IAAIF,OAAO,EAAE;MACrBD,KAAK,CAACI,SAAS,CAACH,OAAO,CAAC,CAACK,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IAC3C;IACA,MAAMI,WAAW,GAAGP,KAAK,CAACQ,SAAS,CAACH,OAAO,CAACR,EAAE,CAAC;IAC/C,IAAI,CAACU,WAAW,EAAE;MAChBP,KAAK,CAACQ,SAAS,CAACF,MAAM,CAACC,WAAW,EAAE,CAAC,CAAC;IACxC;EACF,CAAC,CAAC;AACJ,CAAC;AACD,MAAME,eAAe,GAAGA,CAACb,KAAK,EAAEc,MAAM,KAAK,CAAC,CAACd,KAAK,CAACe,QAAQ,CAAC,CAAC,CAACT,KAAK,CAACQ,MAAM,CAAC;AAC3E,MAAME,kBAAkB,GAAGC,IAAI,IAAInB,oBAAoB,CAACoB,QAAQ,CAACD,IAAI,CAACb,KAAK,CAAC;AAC5E,SAASL,YAAY,EAAEc,eAAe,EAAEG,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}