{"ast":null,"code":"import { useState, useCallback, useEffect } from \"react\";\nimport { isFunction } from \"@rpldy/shared\";\nimport useUploadyContext from \"./useUploadyContext\";\nconst useEventEffect = (event, fn) => {\n  const context = useUploadyContext();\n  const {\n    on,\n    off\n  } = context;\n  useEffect(() => {\n    on(event, fn);\n    return () => {\n      off(event, fn);\n    };\n  }, [event, fn, on, off]);\n};\nconst generateUploaderEventHookWithState = (event, stateCalculator) => (fn, id) => {\n  const [eventState, setEventState] = useState(null);\n  let cbFn = fn;\n  let usedId = id;\n  if (fn && !isFunction(fn)) {\n    usedId = fn;\n    cbFn = undefined;\n  }\n  const eventCallback = useCallback((eventObj, ...args) => {\n    if (!usedId || eventObj.id === usedId) {\n      setEventState(stateCalculator(eventObj, ...args));\n      if (isFunction(cbFn)) {\n        cbFn(eventObj, ...args);\n      }\n    }\n  }, [cbFn, usedId]);\n  useEventEffect(event, eventCallback);\n  return eventState;\n};\nconst generateUploaderEventHook = (event, canScope = true) => (fn, id) => {\n  const eventCallback = useCallback((eventObj, ...args) => {\n    return fn && (!canScope || !id || eventObj.id === id) ? fn(eventObj, ...args) : undefined;\n  }, [fn, id]);\n  useEventEffect(event, eventCallback);\n};\nexport { generateUploaderEventHook, generateUploaderEventHookWithState };","map":{"version":3,"names":["useState","useCallback","useEffect","isFunction","useUploadyContext","useEventEffect","event","fn","context","on","off","generateUploaderEventHookWithState","stateCalculator","id","eventState","setEventState","cbFn","usedId","undefined","eventCallback","eventObj","args","generateUploaderEventHook","canScope"],"sources":["C:/Users/y2006/OneDrive/바탕 화면/poba/poba/node_modules/@rpldy/shared-ui/lib/esm/hooks/hooksUtils.js"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\nimport { isFunction } from \"@rpldy/shared\";\nimport useUploadyContext from \"./useUploadyContext\";\nconst useEventEffect = (event, fn) => {\n  const context = useUploadyContext();\n  const {\n    on,\n    off\n  } = context;\n  useEffect(() => {\n    on(event, fn);\n    return () => {\n      off(event, fn);\n    };\n  }, [event, fn, on, off]);\n};\nconst generateUploaderEventHookWithState = (event, stateCalculator) => (fn, id) => {\n  const [eventState, setEventState] = useState(null);\n  let cbFn = fn;\n  let usedId = id;\n  if (fn && !isFunction(fn)) {\n    usedId = fn;\n    cbFn = undefined;\n  }\n  const eventCallback = useCallback((eventObj, ...args) => {\n    if (!usedId || eventObj.id === usedId) {\n      setEventState(stateCalculator(eventObj, ...args));\n      if (isFunction(cbFn)) {\n        cbFn(eventObj, ...args);\n      }\n    }\n  }, [cbFn, usedId]);\n  useEventEffect(event, eventCallback);\n  return eventState;\n};\nconst generateUploaderEventHook = (event, canScope = true) => (fn, id) => {\n  const eventCallback = useCallback((eventObj, ...args) => {\n    return fn && (!canScope || !id || eventObj.id === id) ? fn(eventObj, ...args) : undefined;\n  }, [fn, id]);\n  useEventEffect(event, eventCallback);\n};\nexport { generateUploaderEventHook, generateUploaderEventHookWithState };"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACxD,SAASC,UAAU,QAAQ,eAAe;AAC1C,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,MAAMC,cAAc,GAAGA,CAACC,KAAK,EAAEC,EAAE,KAAK;EACpC,MAAMC,OAAO,GAAGJ,iBAAiB,CAAC,CAAC;EACnC,MAAM;IACJK,EAAE;IACFC;EACF,CAAC,GAAGF,OAAO;EACXN,SAAS,CAAC,MAAM;IACdO,EAAE,CAACH,KAAK,EAAEC,EAAE,CAAC;IACb,OAAO,MAAM;MACXG,GAAG,CAACJ,KAAK,EAAEC,EAAE,CAAC;IAChB,CAAC;EACH,CAAC,EAAE,CAACD,KAAK,EAAEC,EAAE,EAAEE,EAAE,EAAEC,GAAG,CAAC,CAAC;AAC1B,CAAC;AACD,MAAMC,kCAAkC,GAAGA,CAACL,KAAK,EAAEM,eAAe,KAAK,CAACL,EAAE,EAAEM,EAAE,KAAK;EACjF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAClD,IAAIgB,IAAI,GAAGT,EAAE;EACb,IAAIU,MAAM,GAAGJ,EAAE;EACf,IAAIN,EAAE,IAAI,CAACJ,UAAU,CAACI,EAAE,CAAC,EAAE;IACzBU,MAAM,GAAGV,EAAE;IACXS,IAAI,GAAGE,SAAS;EAClB;EACA,MAAMC,aAAa,GAAGlB,WAAW,CAAC,CAACmB,QAAQ,EAAE,GAAGC,IAAI,KAAK;IACvD,IAAI,CAACJ,MAAM,IAAIG,QAAQ,CAACP,EAAE,KAAKI,MAAM,EAAE;MACrCF,aAAa,CAACH,eAAe,CAACQ,QAAQ,EAAE,GAAGC,IAAI,CAAC,CAAC;MACjD,IAAIlB,UAAU,CAACa,IAAI,CAAC,EAAE;QACpBA,IAAI,CAACI,QAAQ,EAAE,GAAGC,IAAI,CAAC;MACzB;IACF;EACF,CAAC,EAAE,CAACL,IAAI,EAAEC,MAAM,CAAC,CAAC;EAClBZ,cAAc,CAACC,KAAK,EAAEa,aAAa,CAAC;EACpC,OAAOL,UAAU;AACnB,CAAC;AACD,MAAMQ,yBAAyB,GAAGA,CAAChB,KAAK,EAAEiB,QAAQ,GAAG,IAAI,KAAK,CAAChB,EAAE,EAAEM,EAAE,KAAK;EACxE,MAAMM,aAAa,GAAGlB,WAAW,CAAC,CAACmB,QAAQ,EAAE,GAAGC,IAAI,KAAK;IACvD,OAAOd,EAAE,KAAK,CAACgB,QAAQ,IAAI,CAACV,EAAE,IAAIO,QAAQ,CAACP,EAAE,KAAKA,EAAE,CAAC,GAAGN,EAAE,CAACa,QAAQ,EAAE,GAAGC,IAAI,CAAC,GAAGH,SAAS;EAC3F,CAAC,EAAE,CAACX,EAAE,EAAEM,EAAE,CAAC,CAAC;EACZR,cAAc,CAACC,KAAK,EAAEa,aAAa,CAAC;AACtC,CAAC;AACD,SAASG,yBAAyB,EAAEX,kCAAkC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}