{"ast":null,"code":"function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nimport React, { useLayoutEffect, useState } from \"react\";\nimport useUploadyContext from \"../hooks/useUploadyContext\";\nconst createRequestUpdateHoc = ({\n  eventType,\n  getIsValidEventData,\n  getRequestData\n}) => Component => props => {\n  const context = useUploadyContext();\n  const [updater, setUpdater] = useState({\n    updateRequest: null,\n    requestData: null\n  });\n  const {\n    id\n  } = props;\n  useLayoutEffect(() => {\n    const handleEvent = (...params) => getIsValidEventData(id, ...params) === true ? new Promise(resolve => {\n      setUpdater({\n        updateRequest: data => {\n          context.off(eventType, handleEvent);\n          resolve(data);\n        },\n        requestData: getRequestData(...params)\n      });\n    }) : undefined;\n    if (id) {\n      context.on(eventType, handleEvent);\n    }\n    return () => {\n      if (id) {\n        context.off(eventType, handleEvent);\n      }\n    };\n  }, [context, id]);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, updater));\n};\nexport { createRequestUpdateHoc };","map":{"version":3,"names":["_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","React","useLayoutEffect","useState","useUploadyContext","createRequestUpdateHoc","eventType","getIsValidEventData","getRequestData","Component","props","context","updater","setUpdater","updateRequest","requestData","id","handleEvent","params","Promise","resolve","data","off","undefined","on","createElement"],"sources":["C:/Users/y2006/OneDrive/바탕 화면/poba/poba/node_modules/@rpldy/shared-ui/lib/esm/hocs/createRequestUpdateHoc.js"],"sourcesContent":["function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport React, { useLayoutEffect, useState } from \"react\";\nimport useUploadyContext from \"../hooks/useUploadyContext\";\nconst createRequestUpdateHoc = ({\n  eventType,\n  getIsValidEventData,\n  getRequestData\n}) => Component => props => {\n  const context = useUploadyContext();\n  const [updater, setUpdater] = useState({\n    updateRequest: null,\n    requestData: null\n  });\n  const {\n    id\n  } = props;\n  useLayoutEffect(() => {\n    const handleEvent = (...params) => getIsValidEventData(id, ...params) === true ? new Promise(resolve => {\n      setUpdater({\n        updateRequest: data => {\n          context.off(eventType, handleEvent);\n          resolve(data);\n        },\n        requestData: getRequestData(...params)\n      });\n    }) : undefined;\n    if (id) {\n      context.on(eventType, handleEvent);\n    }\n    return () => {\n      if (id) {\n        context.off(eventType, handleEvent);\n      }\n    };\n  }, [context, id]);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, updater));\n};\nexport { createRequestUpdateHoc };"],"mappings":"AAAA,SAASA,QAAQA,CAAA,EAAG;EAAE,OAAOA,QAAQ,GAAGC,MAAM,CAACC,MAAM,GAAGD,MAAM,CAACC,MAAM,CAACC,IAAI,CAAC,CAAC,GAAG,UAAUC,CAAC,EAAE;IAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;MAAE,IAAIG,CAAC,GAAGF,SAAS,CAACD,CAAC,CAAC;MAAE,KAAK,IAAII,CAAC,IAAID,CAAC,EAAE,CAAC,CAAC,CAAC,EAAEE,cAAc,CAACC,IAAI,CAACH,CAAC,EAAEC,CAAC,CAAC,KAAKL,CAAC,CAACK,CAAC,CAAC,GAAGD,CAAC,CAACC,CAAC,CAAC,CAAC;IAAE;IAAE,OAAOL,CAAC;EAAE,CAAC,EAAEJ,QAAQ,CAACY,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAAE;AACnR,OAAOO,KAAK,IAAIC,eAAe,EAAEC,QAAQ,QAAQ,OAAO;AACxD,OAAOC,iBAAiB,MAAM,4BAA4B;AAC1D,MAAMC,sBAAsB,GAAGA,CAAC;EAC9BC,SAAS;EACTC,mBAAmB;EACnBC;AACF,CAAC,KAAKC,SAAS,IAAIC,KAAK,IAAI;EAC1B,MAAMC,OAAO,GAAGP,iBAAiB,CAAC,CAAC;EACnC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC;IACrCW,aAAa,EAAE,IAAI;IACnBC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAM;IACJC;EACF,CAAC,GAAGN,KAAK;EACTR,eAAe,CAAC,MAAM;IACpB,MAAMe,WAAW,GAAGA,CAAC,GAAGC,MAAM,KAAKX,mBAAmB,CAACS,EAAE,EAAE,GAAGE,MAAM,CAAC,KAAK,IAAI,GAAG,IAAIC,OAAO,CAACC,OAAO,IAAI;MACtGP,UAAU,CAAC;QACTC,aAAa,EAAEO,IAAI,IAAI;UACrBV,OAAO,CAACW,GAAG,CAAChB,SAAS,EAAEW,WAAW,CAAC;UACnCG,OAAO,CAACC,IAAI,CAAC;QACf,CAAC;QACDN,WAAW,EAAEP,cAAc,CAAC,GAAGU,MAAM;MACvC,CAAC,CAAC;IACJ,CAAC,CAAC,GAAGK,SAAS;IACd,IAAIP,EAAE,EAAE;MACNL,OAAO,CAACa,EAAE,CAAClB,SAAS,EAAEW,WAAW,CAAC;IACpC;IACA,OAAO,MAAM;MACX,IAAID,EAAE,EAAE;QACNL,OAAO,CAACW,GAAG,CAAChB,SAAS,EAAEW,WAAW,CAAC;MACrC;IACF,CAAC;EACH,CAAC,EAAE,CAACN,OAAO,EAAEK,EAAE,CAAC,CAAC;EACjB,OAAO,aAAaf,KAAK,CAACwB,aAAa,CAAChB,SAAS,EAAErB,QAAQ,CAAC,CAAC,CAAC,EAAEsB,KAAK,EAAEE,OAAO,CAAC,CAAC;AAClF,CAAC;AACD,SAASP,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}